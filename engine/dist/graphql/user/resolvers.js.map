{"version":3,"file":"resolvers.js","sourceRoot":"/","sources":["graphql/user/resolvers.ts"],"names":[],"mappings":";;;AACA,mBAAyB,UAAuB;IAC9C,OAAO;QACL,IAAI,EAAE;YACJ,kBAAkB,EAAE,UAAgB,CAAM,EAAE,IAAS;;oBACnD,OAAO,MAAM,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtD,CAAC;aAAA;SACF;QAED,KAAK,EAAE;YACL,IAAI,EAAE,UAAgB,CAAM,EAAE,EAAE,EAAE,OAAY;;oBAC5C,IAAI;wBACF,MAAM,IAAI,GAAG,MAAM,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAEpE,OAAO,IAAI,CAAC;qBACb;oBAAC,OAAO,GAAG,EAAE;wBACZ,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;qBACjD;gBACH,CAAC;aAAA;SACF;QAED,QAAQ,EAAE;YACR,UAAU,EAAE,UAAgB,CAAM,EAAE,IAAS,EAAE,OAAY;;oBACzD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAEjF,OAAO,IAAI,CAAC;gBACd,CAAC;aAAA;SACF;KACF,CAAC;AACJ,CAAC;AA5BD,4BA4BC","sourcesContent":["import { IAppContext } from '../../types/app';\r\nexport default function (appContext: IAppContext) {\r\n  return {\r\n    User: {\r\n      __resolveReference: async function (_: any, args: any) {\r\n        return await appContext.models.User.findById(_._id);\r\n      },\r\n    },\r\n\r\n    Query: {\r\n      user: async function (_: any, {}, context: any) {\r\n        try {\r\n          const user = await appContext.models.User.findOne(context.user._id);\r\n\r\n          return user;\r\n        } catch (err) {\r\n          throw new Error('Eror getting user in graphql');\r\n        }\r\n      },\r\n    },\r\n\r\n    Mutation: {\r\n      createuser: async function (_: any, args: any, context: any) {\r\n        const { user } = await appContext.services.UserService.registerUser(args.inputs);\r\n\r\n        return user;\r\n      },\r\n    },\r\n  };\r\n}\r\n"]}
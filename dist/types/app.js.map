{"version":3,"file":"app.js","sourceRoot":"/","sources":["types/app.ts"],"names":[],"mappings":";;;AAOA,MAAqB,QAAQ;IAG3B,YAAY,OAAoB;QAC9B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAEK,iBAAiB,CAAC,MAAW;;YACjC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;YAErE,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;aAC3C;YAED,OAAO,IAAI,CAAA;QACb,CAAC;KAAA;IAEK,sBAAsB,CAAC,SAAc;;YACzC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,CAAC;YAE3E,IAAI,CAAC,UAAU,EAAE;gBACf,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;aACxC;YAED,OAAO,UAAU,CAAA;QACnB,CAAC;KAAA;IAEK,oBAAoB,CAAC,OAAY;;YACrC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;YAE9E,IAAI,CAAC,OAAO,EAAE;gBACZ,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;aACtC;YAED,OAAO,QAAQ,CAAA;QACjB,CAAC;KAAA;CACF;AArCD,2BAqCC","sourcesContent":["import { IModels } from '../models';\r\nimport { IServices } from '../services';\r\nexport interface IAppContext {\r\n  models?: IModels;\r\n  services?: IServices;\r\n}\r\n\r\nexport default class IService {\r\n  models?: IModels;\r\n  context?: IAppContext;\r\n  constructor(context: IAppContext) {\r\n    this.models = context.models;\r\n    this.context = context;\r\n  }\r\n\r\n  async authenticate_user(userId: any) {\r\n    const user = await this.context.models.User.findOne({ _id: userId });\r\n\r\n    if (!user) {\r\n      throw new Error('User not authenticated');\r\n    }\r\n\r\n    return user\r\n  }\r\n\r\n  async authenticate_apartment(apartment: any) {\r\n    const _apartment = await this.models.Apartment.findOne({ _id: apartment });\r\n\r\n    if (!_apartment) {\r\n      throw new Error('Apartment not found');\r\n    }\r\n\r\n    return _apartment\r\n  }\r\n\r\n  async authenticate_booking(booking: any){\r\n    const _booking = await this.models.ApartmentBooking.findOne({ _id: booking });\r\n\r\n    if (!booking) {\r\n      throw new Error('Booking not found');\r\n    }\r\n\r\n    return _booking\r\n  }\r\n}\r\n"]}
{"version":3,"file":"resolvers.js","sourceRoot":"/","sources":["graphql/booking/resolvers.ts"],"names":[],"mappings":";;;AAEA,MAAM,SAAS,GAAG,CAAC,UAAuB,EAAE,EAAE;IAC5C,OAAO;QACL,OAAO,EAAE;YACP,kBAAkB,EAAE,UAAgB,CAAM;;oBACxC,OAAO,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACxD,CAAC;aAAA;SACF;QACD,KAAK,EAAE;YACL,mBAAmB,EAAE,UAAgB,CAAM,EAAE,EAAE,wBAAwB,EAAE,EAAE,OAAY;;oBACrF,MAAM,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC,uBAAuB,CAAC,mBAAmB,CAC9E,wBAAwB,EACxB,OAAO,CAAC,IAAI,CAAC,GAAG,CACjB,CAAC;oBACF,OAAO,QAAQ,CAAC;gBAClB,CAAC;aAAA;SACF;QAED,QAAQ,EAAE;YACR,sBAAsB,EAAE,UAAgB,CAAM,EAAE,EAAE,2BAA2B,EAAE,EAAE,OAAY;;oBAC3F,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAChF,2BAA2B,EAC3B,OAAO,CAAC,IAAI,CAAC,GAAG,CACjB,CAAC;oBACF,OAAO,OAAO,CAAC;gBACjB,CAAC;aAAA;YACD,sBAAsB,EAAE,UAAgB,CAAM,EAAE,EAAE,2BAA2B,EAAE,EAAE,OAAY;;oBAC3F,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAChF,2BAA2B,EAC3B,OAAO,CAAC,IAAI,CAAC,GAAG,CACjB,CAAC;oBACF,OAAO,OAAO,CAAC;gBACjB,CAAC;aAAA;YACD,sBAAsB,EAAE,UAAgB,CAAM,EAAE,EAAE,2BAA2B,EAAE,EAAE,OAAY;;oBAC3F,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAChF,2BAA2B,CAAC,WAAW,EACvC,OAAO,CAAC,IAAI,CAAC,GAAG,CACjB,CAAC;oBACF,OAAO,OAAO,CAAC;gBACjB,CAAC;aAAA;SACF;KACF,CAAC;AACJ,CAAC,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["import { IAppContext } from '../../types/app';\r\n\r\nconst resolvers = (appContext: IAppContext) => {\r\n  return {\r\n    Booking: {\r\n      __resolveReference: async function (_: any) {\r\n        return appContext.models.ApartmentBooking.find(_._id);\r\n      },\r\n    },\r\n    Query: {\r\n      getApartmentBooking: async function (_: any, { GetApartmentBookingInput }, context: any) {\r\n        const bookings = appContext.services.ApartmentBookingService.getApartmentBooking(\r\n          GetApartmentBookingInput,\r\n          context.user._id\r\n        );\r\n        return bookings;\r\n      },\r\n    },\r\n\r\n    Mutation: {\r\n      createApartmentBooking: async function (_: any, { CreateApartmentBookingInput }, context: any) {\r\n        const booking = appContext.services.ApartmentBookingService.createApartmentBooking(\r\n          CreateApartmentBookingInput,\r\n          context.user._id\r\n        );\r\n        return booking;\r\n      },\r\n      updateApartmentBooking: async function (_: any, { UpdateApartmentBookingInput }, context: any) {\r\n        const booking = appContext.services.ApartmentBookingService.createApartmentBooking(\r\n          UpdateApartmentBookingInput,\r\n          context.user._id\r\n        );\r\n        return booking;\r\n      },\r\n      deleteApartmentBooking: async function (_: any, { DeleteApartmentBookingInput }, context: any) {\r\n        const message = appContext.services.ApartmentBookingService.createApartmentBooking(\r\n          DeleteApartmentBookingInput.apartmentId,\r\n          context.user._id\r\n        );\r\n        return message;\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nexport default resolvers;\r\n"]}